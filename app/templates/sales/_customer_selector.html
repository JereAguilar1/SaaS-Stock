<!-- HTMX target wrapper for customer selector -->
<div id="customer-select-wrapper">
    {% if success_message %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <i class="bi bi-check-circle me-2"></i>{{ success_message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endif %}

    <label class="form-label fw-bold text-uppercase small text-muted mb-1">
        <i class="bi bi-person-fill"></i> Cliente
    </label>

    <div class="input-group input-group-lg">
        <span class="input-group-text bg-white border-end-0 text-primary">
            <!-- <i class="bi bi-person-fill"></i> -->
        </span>

        <select class="form-select border-start-0 ps-0" name="customer_id" id="customer_id" required>
            {% for customer in customers %}
            <option value="{{ customer.id }}" {% if selected_customer_id and customer.id==selected_customer_id
                %}selected {% elif not selected_customer_id and customer.id==default_customer_id %}selected {% endif %}>
                {{ customer.name }}
                {% if customer.is_default %}(Por defecto){% endif %}
            </option>
            {% endfor %}
        </select>

        <button type="button" class="btn btn-primary border-start-0" data-bs-toggle="modal"
            data-bs-target="#quick-create-customer-modal" title="Crear nuevo cliente">
            <i class="bi bi-plus-lg"></i>
        </button>
    </div>
</div>