/**
 * Design System - CSS Variables
 * Inspired by Flow Stack dashboard aesthetic
 * Modern SaaS UI with clean surfaces, subtle shadows, and consistent spacing
 */

:root {
   /* ============================================
     COLORS - SURFACE SYSTEM
     ============================================ */

   /* Base backgrounds */
   --color-bg-base: #F8F9FA;
   /* Main app background */
   --color-bg-surface: #FFFFFF;
   /* Cards, modals, dropdowns */
   --color-bg-hover: #F3F4F6;
   /* Hover states */
   --color-bg-active: #E5E7EB;
   /* Active/pressed states */
   --color-bg-muted: #F9FAFB;
   /* Subtle backgrounds */

   /* ============================================
     COLORS - BORDERS
     ============================================ */

   --color-border-light: #E5E7EB;
   /* Subtle dividers */
   --color-border-medium: #D1D5DB;
   /* Input borders */
   --color-border-dark: #9CA3AF;
   /* Emphasized borders */

   /* ============================================
     COLORS - TEXT
     ============================================ */

   --color-text-primary: #111827;
   /* Headings, important text */
   --color-text-secondary: #6B7280;
   /* Body text, labels */
   --color-text-muted: #9CA3AF;
   /* Placeholder, disabled */
   --color-text-inverse: #FFFFFF;
   /* Text on dark backgrounds */

   /* ============================================
     COLORS - BRAND PRIMARY
     ============================================ */

   --color-primary: #3B82F6;
   /* Primary actions */
   --color-primary-hover: #2563EB;
   /* Primary hover */
   --color-primary-active: #1D4ED8;
   /* Primary active */
   --color-primary-light: #DBEAFE;
   /* Primary backgrounds */
   --color-primary-dark: #1E40AF;
   /* Primary text on light */

   /* ============================================
     COLORS - SEMANTIC
     ============================================ */

   /* Success (green) */
   --color-success: #10B981;
   --color-success-hover: #059669;
   --color-success-light: #D1FAE5;
   --color-success-dark: #047857;

   /* Warning (amber) */
   --color-warning: #F59E0B;
   --color-warning-hover: #D97706;
   --color-warning-light: #FEF3C7;
   --color-warning-dark: #B45309;

   /* Danger (red) */
   --color-danger: #EF4444;
   --color-danger-hover: #DC2626;
   --color-danger-light: #FEE2E2;
   --color-danger-dark: #B91C1C;

   /* Info (blue) */
   --color-info: #3B82F6;
   --color-info-hover: #2563EB;
   --color-info-light: #DBEAFE;
   --color-info-dark: #1E40AF;

   /* ============================================
     TYPOGRAPHY
     ============================================ */

   /* Font families */
   --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
   --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;

   /* Font sizes */
   --font-size-xs: 0.75rem;
   /* 12px */
   --font-size-sm: 0.875rem;
   /* 14px */
   --font-size-base: 1rem;
   /* 16px */
   --font-size-lg: 1.125rem;
   /* 18px */
   --font-size-xl: 1.25rem;
   /* 20px */
   --font-size-2xl: 1.5rem;
   /* 24px */
   --font-size-3xl: 1.875rem;
   /* 30px */
   --font-size-4xl: 2.25rem;
   /* 36px */

   /* Font weights */
   --font-weight-normal: 400;
   --font-weight-medium: 500;
   --font-weight-semibold: 600;
   --font-weight-bold: 700;

   /* Line heights */
   --line-height-tight: 1.25;
   --line-height-normal: 1.5;
   --line-height-relaxed: 1.75;

   /* ============================================
     SPACING SCALE
     ============================================ */

   --spacing-0: 0;
   --spacing-1: 0.25rem;
   /* 4px */
   --spacing-2: 0.5rem;
   /* 8px */
   --spacing-3: 0.75rem;
   /* 12px */
   --spacing-4: 1rem;
   /* 16px */
   --spacing-5: 1.25rem;
   /* 20px */
   --spacing-6: 1.5rem;
   /* 24px */
   --spacing-8: 2rem;
   /* 32px */
   --spacing-10: 2.5rem;
   /* 40px */
   --spacing-12: 3rem;
   /* 48px */
   --spacing-16: 4rem;
   /* 64px */

   /* Semantic spacing aliases */
   --spacing-xs: var(--spacing-1);
   --spacing-sm: var(--spacing-2);
   --spacing-md: var(--spacing-4);
   --spacing-lg: var(--spacing-6);
   --spacing-xl: var(--spacing-8);
   --spacing-2xl: var(--spacing-12);

   /* ============================================
     BORDER RADIUS
     ============================================ */

   --radius-none: 0;
   --radius-sm: 0.375rem;
   /* 6px */
   --radius-md: 0.5rem;
   /* 8px */
   --radius-lg: 0.75rem;
   /* 12px */
   --radius-xl: 1rem;
   /* 16px */
   --radius-full: 9999px;
   /* Pill shape */

   /* ============================================
     SHADOWS
     ============================================ */

   --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
   --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
   --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
   --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
   --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
   --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

   /* Focus ring */
   --shadow-focus: 0 0 0 3px var(--color-primary-light);

   /* ============================================
     LAYOUT DIMENSIONS
     ============================================ */

   --sidebar-width: 260px;
   --sidebar-width-collapsed: 64px;
   --topbar-height: 64px;
   --content-max-width: 1400px;

   /* ============================================
     Z-INDEX SCALE
     ============================================ */

   --z-dropdown: 1000;
   --z-sticky: 1020;
   --z-fixed: 1030;
   --z-modal-backdrop: 1040;
   --z-modal: 1050;
   --z-popover: 1060;
   --z-tooltip: 1070;

   /* ============================================
     TRANSITIONS
     ============================================ */

   --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
   --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
   --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);

   /* ============================================
     BREAKPOINTS (for reference in media queries)
     ============================================ */

   /* --breakpoint-sm: 640px; */
   /* --breakpoint-md: 768px; */
   /* --breakpoint-lg: 1024px; */
   /* --breakpoint-xl: 1280px; */
   /* --breakpoint-2xl: 1536px; */
}

/* ============================================
   BASE STYLES RESET
   ============================================ */

* {
   box-sizing: border-box;
}

html {
   overflow-y: scroll;
}


body {
   margin: 0;
   padding: 0;
   font-family: var(--font-family-base);
   font-size: var(--font-size-sm);
   line-height: var(--line-height-normal);
   color: var(--color-text-primary);
   background-color: var(--color-bg-base);
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
   scrollbar-gutter: stable;
}

/* Remove default margins */
h1,
h2,
h3,
h4,
h5,
h6,
p,
ul,
ol {
   margin: 0;
   padding: 0;
}

/* Links */
a {
   color: var(--color-primary);
   text-decoration: none;
   transition: color var(--transition-fast);
}

a:hover {
   color: var(--color-primary-hover);
}

/* Focus visible for accessibility */
*:focus-visible {
   outline: 2px solid var(--color-primary);
   outline-offset: 2px;
}

/* Remove default button styles */
button {
   font-family: inherit;
   font-size: inherit;
   line-height: inherit;
}

/* Scrollbar styling (webkit browsers) */
::-webkit-scrollbar {
   width: 8px;
   height: 8px;
}

::-webkit-scrollbar-track {
   background: var(--color-bg-muted);
}

::-webkit-scrollbar-thumb {
   background: var(--color-border-medium);
   border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
   background: var(--color-border-dark);
}

/* ============================================
   DARK MODE - Variable Overrides
   Redefine all design tokens so every component
   that uses var(--color-*) recolors automatically.
   ============================================ */

[data-bs-theme="dark"] {
   /* Base backgrounds */
   --color-bg-base: #1a1d21;
   --color-bg-surface: #212529;
   --color-bg-hover: #2c3034;
   --color-bg-active: #373b3e;
   --color-bg-muted: #1e2125;

   /* Borders */
   --color-border-light: #373b3e;
   --color-border-medium: #495057;
   --color-border-dark: #6c757d;

   /* Text */
   --color-text-primary: #f8f9fa;
   --color-text-secondary: #adb5bd;
   --color-text-muted: #6c757d;
   --color-text-inverse: #212529;

   /* Shadows (darker for dark bg) */
   --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
   --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
   --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
   --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
   --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);

   /* Semantic light backgrounds (darker versions) */
   --color-primary-light: #1e3a5f;
   --color-primary-dark: #93c5fd;
   --color-success-light: #064e3b;
   --color-success-dark: #6ee7b7;
   --color-warning-light: #78350f;
   --color-warning-dark: #fcd34d;
   --color-danger-light: #7f1d1d;
   --color-danger-dark: #fca5a5;
   --color-info-light: #1e3a5f;
   --color-info-dark: #93c5fd;

   /* Bootstrap table overrides */
   --bs-table-bg: #212529;
   --bs-table-color: #f8f9fa;
   --bs-table-border-color: #373b3e;
   --bs-table-hover-bg: #2c3034;
   --bs-table-striped-bg: #2c3034;

   /* Bootstrap body overrides */
   --bs-body-bg: #1a1d21;
   --bs-body-color: #f8f9fa;
   --bs-secondary-bg: #2c3034;
   --bs-tertiary-bg: #1e2125;
   --bs-border-color: #373b3e;
}

/* ============================================
   DARK MODE - Bootstrap Utility Overrides
   Force dark colors on Bootstrap classes that
   use hardcoded light values.
   ============================================ */

/* bg-white → dark surface */
[data-bs-theme="dark"] .bg-white {
   background-color: var(--color-bg-surface) !important;
}

/* bg-light → dark muted */
[data-bs-theme="dark"] .bg-light {
   background-color: var(--color-bg-muted) !important;
   color: var(--color-text-primary) !important;
}

/* text-dark → light text */
[data-bs-theme="dark"] .text-dark {
   color: var(--color-text-primary) !important;
}

/* text-muted override */
[data-bs-theme="dark"] .text-muted {
   color: var(--color-text-muted) !important;
}

/* ============================================
   DARK MODE - Native Form Controls
   ============================================ */

[data-bs-theme="dark"] .form-control,
[data-bs-theme="dark"] .form-select {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-border-medium) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .form-control:focus,
[data-bs-theme="dark"] .form-select:focus {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-primary) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .form-control::placeholder {
   color: var(--color-text-muted) !important;
}

[data-bs-theme="dark"] .form-control:disabled,
[data-bs-theme="dark"] .form-control[readonly],
[data-bs-theme="dark"] .form-select:disabled {
   background-color: var(--color-bg-muted) !important;
   color: var(--color-text-muted) !important;
}

/* Input group addons (search icons, wallet icons, etc.) */
[data-bs-theme="dark"] .input-group-text {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-border-medium) !important;
   color: var(--color-text-secondary) !important;
}

/* Form check / switch */
[data-bs-theme="dark"] .form-check-input {
   background-color: var(--color-bg-surface);
   border-color: var(--color-border-medium);
}

[data-bs-theme="dark"] .form-label,
[data-bs-theme="dark"] .form-check-label {
   color: var(--color-text-primary);
}

/* ============================================
   DARK MODE - Bootstrap Cards
   ============================================ */

[data-bs-theme="dark"] .card {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-border-light) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .card-header {
   background-color: var(--color-bg-muted) !important;
   border-bottom-color: var(--color-border-light) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .card-footer {
   background-color: var(--color-bg-muted) !important;
   border-top-color: var(--color-border-light) !important;
}

[data-bs-theme="dark"] .card-body {
   color: var(--color-text-primary);
}

/* ============================================
   DARK MODE - Bootstrap Modals
   ============================================ */

[data-bs-theme="dark"] .modal-content {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-border-light) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .modal-header {
   border-bottom-color: var(--color-border-light) !important;
}

[data-bs-theme="dark"] .modal-footer {
   background-color: var(--color-bg-muted) !important;
   border-top-color: var(--color-border-light) !important;
}

[data-bs-theme="dark"] .modal-title {
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .btn-close {
   filter: invert(1) grayscale(100%) brightness(200%);
}

/* ============================================
   DARK MODE - Bootstrap Dropdowns
   ============================================ */

[data-bs-theme="dark"] .dropdown-menu {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-border-light) !important;
}

[data-bs-theme="dark"] .dropdown-item {
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .dropdown-item:hover,
[data-bs-theme="dark"] .dropdown-item:focus {
   background-color: var(--color-bg-hover) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .dropdown-divider {
   border-top-color: var(--color-border-light) !important;
}

/* ============================================
   DARK MODE - List Groups
   ============================================ */

[data-bs-theme="dark"] .list-group-item {
   background-color: var(--color-bg-surface) !important;
   border-color: var(--color-border-light) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .list-group-item:hover {
   background-color: var(--color-bg-hover) !important;
}

[data-bs-theme="dark"] .list-group-item.active {
   background-color: var(--color-primary) !important;
   border-color: var(--color-primary) !important;
}

/* ============================================
   DARK MODE - Bootstrap Tables (native)
   ============================================ */

[data-bs-theme="dark"] .table {
   --bs-table-bg: var(--color-bg-surface);
   --bs-table-color: var(--color-text-primary);
   --bs-table-border-color: var(--color-border-light);
   --bs-table-hover-bg: var(--color-bg-hover);
   color: var(--color-text-primary);
}

[data-bs-theme="dark"] .table thead {
   background-color: var(--color-bg-muted);
}

[data-bs-theme="dark"] .table thead th {
   background-color: var(--color-bg-muted);
   color: var(--color-text-secondary);
   border-bottom-color: var(--color-border-light);
}

[data-bs-theme="dark"] .table td {
   border-bottom-color: var(--color-border-light);
}

/* ============================================
   DARK MODE - Badges & Breadcrumbs
   ============================================ */

[data-bs-theme="dark"] .badge.bg-light {
   background-color: var(--color-bg-active) !important;
   color: var(--color-text-primary) !important;
}

[data-bs-theme="dark"] .breadcrumb {
   --bs-breadcrumb-divider-color: var(--color-text-muted);
}

[data-bs-theme="dark"] .breadcrumb-item a {
   color: var(--color-text-secondary);
}

/* ============================================
   DARK MODE - Nav Tabs & Pills
   ============================================ */

[data-bs-theme="dark"] .nav-tabs {
   border-bottom-color: var(--color-border-light);
}

[data-bs-theme="dark"] .nav-tabs .nav-link {
   color: var(--color-text-secondary);
}

[data-bs-theme="dark"] .nav-tabs .nav-link.active {
   background-color: var(--color-bg-surface);
   border-color: var(--color-border-light) var(--color-border-light) var(--color-bg-surface);
   color: var(--color-text-primary);
}

[data-bs-theme="dark"] .nav-tabs .nav-link:hover {
   border-color: var(--color-border-light);
   color: var(--color-text-primary);
}

/* ============================================
   DARK MODE - Pagination
   ============================================ */

[data-bs-theme="dark"] .page-link {
   background-color: var(--color-bg-surface);
   border-color: var(--color-border-light);
   color: var(--color-text-primary);
}

[data-bs-theme="dark"] .page-link:hover {
   background-color: var(--color-bg-hover);
   border-color: var(--color-border-medium);
   color: var(--color-text-primary);
}

[data-bs-theme="dark"] .page-item.active .page-link {
   background-color: var(--color-primary);
   border-color: var(--color-primary);
}

/* ============================================
   DARK MODE - Inline style overrides
   Catch elements with inline background: white
   ============================================ */

[data-bs-theme="dark"] [style*="background-color: white"],
[data-bs-theme="dark"] [style*="background-color: #fff"],
[data-bs-theme="dark"] [style*="background-color: #FFF"],
[data-bs-theme="dark"] [style*="background-color: #ffffff"],
[data-bs-theme="dark"] [style*="background-color: #FFFFFF"],
[data-bs-theme="dark"] [style*="background: white"],
[data-bs-theme="dark"] [style*="background: #fff"] {
   background-color: var(--color-bg-surface) !important;
}

/* ============================================
   DARK MODE - Scrollbar
   ============================================ */

[data-bs-theme="dark"] ::-webkit-scrollbar-track {
   background: var(--color-bg-muted);
}

[data-bs-theme="dark"] ::-webkit-scrollbar-thumb {
   background: var(--color-border-medium);
}

[data-bs-theme="dark"] ::-webkit-scrollbar-thumb:hover {
   background: var(--color-border-dark);
}

/* ============================================
   DARK MODE - Misc elements
   ============================================ */

[data-bs-theme="dark"] hr {
   border-color: var(--color-border-light);
}

[data-bs-theme="dark"] pre {
   background-color: var(--color-bg-muted) !important;
   color: var(--color-text-primary);
}

[data-bs-theme="dark"] .border {
   border-color: var(--color-border-light) !important;
}

[data-bs-theme="dark"] .shadow-sm {
   box-shadow: var(--shadow-sm) !important;
}

/* ============================================
   DARK MODE - POS Components
   ============================================ */

[data-bs-theme="dark"] .pos-container .bg-white,
[data-bs-theme="dark"] .pos-container .bg-light,
[data-bs-theme="dark"] .cart-item,
[data-bs-theme="dark"] .cart-footer,
[data-bs-theme="dark"] .pos-catalog-panel,
[data-bs-theme="dark"] .catalog-topbar,
[data-bs-theme="dark"] .product-card,
[data-bs-theme="dark"] .btn-qty,
[data-bs-theme="dark"] .card-custom,
[data-bs-theme="dark"] .empty-cart-state,
[data-bs-theme="dark"] .empty-search,
[data-bs-theme="dark"] .input-group-text {
   background-color: #212529 !important;
   border-color: #373b3e !important;
   color: #f8f9fa !important;
}

/* POS inputs and selects */
[data-bs-theme="dark"] .pos-container input,
[data-bs-theme="dark"] .pos-container select,
[data-bs-theme="dark"] .qty-input {
   background-color: #2c3034 !important;
   color: #ffffff !important;
   border-color: #373b3e !important;
}

/* Product card hover */
[data-bs-theme="dark"] .product-card:hover {
   background-color: #2c3034 !important;
   border-color: #6366f1 !important;
}

/* POS secondary text */
[data-bs-theme="dark"] .cart-item-title,
[data-bs-theme="dark"] .product-title {
   color: #adb5bd !important;
}